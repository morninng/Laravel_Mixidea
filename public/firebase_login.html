<html>

<head>


<script src="https://cdn.firebase.com/js/client/2.4.0/firebase.js"></script>
<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>

</head>
<body>



<script>


var mixidea_root_ref = new Firebase("https://mixidea.firebaseio.com");

function fb_login(){

	mixidea_root_ref.authWithOAuthPopup("facebook", function(error, authData) {
		if (error) {
			console.log("Login Failed!", error);
			console.log(error.message);
			console.log(error.code);
			console.log(error.detail);
		} else {
			console.log("Authenticated successfully with payload:", authData);
		}
	})

}

function check_auth_state(){

	var authData = mixidea_root_ref.getAuth();
	if (authData) {
		console.log("User " + authData.uid + " is logged in with " + authData.provider);
	} else {
		console.log("User is logged out");
	}

}

</script>


<input type="button" onclick="fb_login()" value = "fb_login">
<input type="button" onclick="check_auth_state()" value = "check_auth_state">

</body>
</html>